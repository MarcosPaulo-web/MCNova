<!-- Tabela de Vendas -->
<tbody>
  @for (venda of vendasFiltradas(); track venda.cdVenda) {
  <tr>
    <td>
      <small>{{ formatarData(venda.dataVenda) }}</small>
    </td>
    <td>
      <!-- ✅ CORRIGIDO: Usar clienteModel -->
      {{ venda.clienteModel?.nmCliente || "Sem cliente" }}
    </td>
    <td>
      <!-- ✅ CORRIGIDO: Usar atendente -->
      <small class="text-muted">{{ venda.atendente?.nmUsuario || "-" }}</small>
    </td>
    <td>
      <span class="badge bg-info">{{ contarItens(venda) }} produto(s)</span>
    </td>
    <td>
      <span class="badge bg-success">{{
        getFormaPagamentoLabel(venda.formaPagamento)
      }}</span>
    </td>
    <td>
      <strong class="text-success">{{ formatarMoeda(venda.vlTotal) }}</strong>
    </td>
  </tr>
  }
</tbody>

<!-- Modal - Adicionar Produtos -->
<div class="col-md-6">
  <select
    class="form-select"
    [(ngModel)]="produtoSelecionado"
    [ngModelOptions]="{ standalone: true }"
  >
    <option [ngValue]="null">Selecione um produto</option>
    @for (produto of produtos(); track produto.cdProduto) {
    <option [ngValue]="produto.cdProduto">
      {{ produto.nmProduto }} - {{ formatarMoeda(produto.vlProduto) }} (Estoque:
      {{ produto.qtdEstoque }})
    </option>
    }
  </select>
</div>