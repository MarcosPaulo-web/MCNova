<main class="container-xxl pt-5 pb-5">
  <div class="row justify-content-between align-items-center p-0">
    <div class="col-3">
      <app-titulo title="Estoque" subtitle="Gerencie o estoque de produtos e peças" />
    </div>

    <div class="col-6 d-flex justify-content-end">
      <button class="btn btn-secondary"><i class="bi bi-arrow-up-circle"></i> Movimentações</button>
      <button class="btn btn-secondary">
        <i class="bi bi-arrow-down-circle"></i> Novas Movimentações
      </button>
      <button class="btn btn-primary-mecanica"><i class="bi bi-plus-lg"></i> Novo Produto</button>
    </div>
  </div>

  <div class="row mt-5 row-gap-3">
    <div class="col-sm-12 col-md-8 col-lg-4">
      <app-card title="Total de Produtos" num="5"><i class="bi bi-box-seam"></i></app-card>
    </div>
    <div class="col-sm-12 col-md-8 col-lg-4">
      <app-card title="Total de Itens" num="250"><i class="bi bi-box-seam"></i></app-card>
    </div>
    <div class="col-sm-12 col-md-8 col-lg-4">
      <app-card title="Valor em estoque" num="R$ 1500.00"><i class="bi bi-box-seam"></i></app-card>
    </div>
    <div class="col-sm-12 col-md-8 col-lg-4">
      <app-card title="Estoques baixos" num="0"
        ><i class="bi bi-exclamation-triangle"></i
      ></app-card>
    </div>
  </div>

  <div class="row">
    <app-pesquisa-filtro
      [listFiltro]="listaCategorias"
      label="Buscar por nome, código ou fornecedor..."
      (pesquisa)="getPesquisa($event)"
      (receberFiltro)="getFiltro($event)"
    />
  </div>

  <div class="row mt-5 border border-body p-3 rounded-4">
    <h5>Produtos em Estoque</h5>
    <div class="row pt-5">
      <app-tabela [cabecario]="listaCabecario">
        @for (item of listaBody; track $index) {
        <tr>
          <td>{{ item.codigo }}</td>
          <td>{{ item.descricao }}</td>
          <td>{{ item.categoria }}</td>
          <td>{{ item.quantidade }}</td>
          <td>{{ item.estoqueMinimo }}</td>
          <td>{{ item.precoUnitario }}</td>
          <td>{{ item.precoTotal }}</td>
          <td>
            <span
              class="badge"
              [ngClass]="{
                'bg-success': item.status === 'normal',
                'bg-danger': item.status === 'crítico',
                'bg-primary': item.status === 'baixo'
              }"
            >
              {{ item.status }}
            </span>
          </td>
          <td>
            <button class="btn btn-secondary"><i class="bi bi-eye"></i></button>
            <button class="btn btn-secondary"><i class="bi bi-pencil-square"></i></button>
          </td>
        </tr>

        }
      </app-tabela>
    </div>
  </div>
</main>
