<main class="container-xxl py-5">
  <div class="row justify-content-between align-items-center">
    <div class="col-sm-12 col-md-6 col-lg-3">
      <app-titulo title="Orçamentos" subtitle="Gerencie todos os orçamentos da oficina" />
    </div>
    <div class="col-sm-12 col-md-6 col-lg-3 text-end">
      <button class="btn btn-primary-mecanica"><i class="bi bi-plus-lg"></i> Novo Orçamento</button>
    </div>
  </div>

  <div class="row mt-5 row-gap-2">
    <div class="col-sm-12 col-md-6 col-lg-3">
      <app-card title="Total" num="5"><i class="bi bi-file-earmark-text-fill"></i></app-card>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-3">
      <app-card title="Pendentes" num="5"><i class="bi bi-clock"></i></app-card>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-3">
      <app-card title="Aprovados" num="5"><i class="bi bi-check-circle"></i></app-card>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-3">
      <app-card title="Recusados" num="5"><i class="bi bi-x-circle"></i></app-card>
    </div>
  </div>

  <div class="row">
    <app-pesquisa-filtro
      label="Buscar pro numero, cliente ou placa..."
      [listFiltro]="listFiltro"
      (receberFiltro)="getFilto($event)"
      (pesquisa)="getPesquisa($event)"
    />
  </div>

  <div class="row mt-5 border border-body p-3 rounded-4">
    <h5>Lista de Orçamentos</h5>
    <div class="row mt-4">
      <app-tabela [cabecario]="listaCabecario">
        @for (item of listaDados; track $index) {
        <tr>
          <td>{{ item.codigo }}</td>
          <td>{{ item.cliente }}</td>
          <td>
            {{ item.veiculo }}<br />
            <span class="text-muted">{{ item.placa }}</span>
          </td>
          <td>{{ item.entrada }}</td>
          <td>{{ item.entrega }}</td>
          <td>{{ item.valor }}</td>
          <td>
            <span
              class="badge"
              [ngClass]="{
                'bg-success': item.status === 'Aprovado',
                'bg-secondary-mecanica': item.status === 'Pendente',
                'bg-danger': item.status === 'Recusado',
                'bg-secondary': item.status === 'Expirado',
              }"
            >
              {{ item.status }}
            </span>
          </td>
          <td>
            <button class="btn btn-secondary"><i class="bi bi-eye"></i></button>
          </td>
        </tr>
        }
      </app-tabela>
    </div>
  </div>
</main>
